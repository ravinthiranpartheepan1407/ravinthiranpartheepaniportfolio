<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Ravinthiran Partheepan - Works</title>
  <meta content="" name="description">
  <meta content="" name="keywords">


  <link href="/images/icon.png" rel="icon">
  <link href="/images/icon.png" rel="apple-touch-icon">


  <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <link href="/assets/vendor/aoss/aos.css" rel="stylesheet">
  <link href="/assets/vendor/bootstraps/css/bootstrap.min.css" rel="stylesheet">
  <link href="/assets/vendor/bootstrap-iconss/bootstrap-icons.css" rel="stylesheet">
  <link href="/assets/vendor/boxiconss/css/boxicons.min.css" rel="stylesheet">
  <link href="/assets/vendor/swipers/swiper-bundle.min.css" rel="stylesheet">


  <link href="assets/css/styles.css" rel="stylesheet">

  <script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"></script>
</head>
<style>
  body {
    text-align: center;
}

video {
    width: 0px;
    height: 0px;
}

table {
    width: auto;
    margin: auto;
}

tr, td {
    border: 0px;
    text-align: center;
}
</style>

<body>

  <header id="header" class="fixed-top d-flex align-items-center">
    <div class="container d-flex justify-content-between align-items-center">

      <div class="logo">
        <h1><a href="/">Ravinthiran Partheepan</a></h1>

      </div>

      <nav id="navbar" class="navbar">
        <nav id="navbar" class="navbar">
          <ul>
            <li><a href="/home">Home</a></li>
            <li><a href="/npm">My-NPM-Packages</a></li>
            <li><a href="/ethapp">Ethereum Shop</a></li>
            <li><a href="https://rarible.com/token/0xf6793da657495ffeff9ee6350824910abc21356c:89924258366811623875109034533533048737172702265033712914275818847697259986946?tab=details">NFT Shop</a></li>
            <li><a href="/shop">Shop</a></li>
            <li><a href="/works">Works</a></li>
            <li><a href="/contact">Contact</a></li>
            <li class="dropdown"><a href="/works"><span>Github</span> <i class="bi bi-chevron-down"></i></a>
              <ul>
                <li><a href="https://github.com/ravinthiranpartheepan1407/VPS_mongodb">VPS - Full Stack Web</a></li>
                <li><a href="https://github.com/ravinthiranpartheepan1407/Data-Science-Projects">AI & Machine Learning</a></li>
                <li><a href="https://github.com/ravinthiranpartheepan1407/Full_Stack_Web_Development_Apps">Blockchain Development</a></li>


              </ul>
            </li>

          </ul>
          <i class="bi bi-list mobile-nav-toggle"></i>
        </nav>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav>

    </div>
  </header>

  <!-- <section class="hero-section inner-page">
    <div class="wave">

      <svg width="1920px" height="265px" viewBox="0 0 1920 265" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g id="Apple-TV" transform="translate(0.000000, -402.000000)" fill="#FFFFFF">
            <path d="M0,439.134243 C175.04074,464.89273 327.944386,477.771974 458.710937,477.771974 C654.860765,477.771974 870.645295,442.632362 1205.9828,410.192501 C1429.54114,388.565926 1667.54687,411.092417 1920,477.771974 L1920,667 L1017.15166,667 L0,667 L0,439.134243 Z" id="Path"></path>
          </g>
        </g>
      </svg>

    </div>

    <div class="container">
      <div class="row align-items-center">
        <div class="col-12">
          <div class="row justify-content-center">
            <div class="col-md-7 text-center hero-text">
              <h1 data-aos="fade-up" data-aos-delay="">Welcome To AI Engine Page</h1>
              <p class="mb-5" data-aos="fade-up" data-aos-delay="100">Curious about my AI? check out my awesome AI project below</p>
            </div>
          </div>
        </div>
      </div>
    </div>

  </section> -->



  <section style=" background: linear-gradient(to right, #100028 5%, rgba(61, 179, 197, 0.8) 150%);" class="section cta-section">

    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6 me-auto text-center text-md-start mb-5 mb-md-0">

          <h2 id="loadingText">Loading...</h2>
          <video style="width: 100px;" playsinline autoplay muted controls="true" id="video"></video>
          <br><br>
          <canvas id="c1"></canvas>
          <br><br>
        </div>
        <div class="col-md-5 text-center text-md-end">
          <h2 style="text-align: center;">Control FPS and AI Engine Here </h2>
          <table>
            <tr>
              <td>AI:</td>
              <td>
                <div class="switch">
                  <label>
                    Off
                    <input type="checkbox" id="ai" disabled>
                    <span class="lever"></span>
                    On
                  </label>
                </div>
              </td>
            </tr>
            <tr>
              <td>FPS:</td>
              <td>
                <p class="range-field">
                  <input style="margin-top: 22px;" class="form-range" type="range" id="fps" min="1" max="60" value="50">
                </p>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </section>


  <footer class="footer" role="contentinfo">
    <div class="container">
      <div class="row">
        <div class="col-md-4 mb-4 mb-md-0">
          <h3>About Ravinthiran Partheepan</h3>
          <p style="text-align: justify !important;">I am an Artificial Intelligence Researcher, Blockhain ETH Smartcontracts And Dapps Developer, Full Stack Developer, Comic Book Writer and VFX Film Maker</p>
          <p class="social">
            <a href="#"><span class="bi bi-twitter"></span></a>
            <a href="#"><span class="bi bi-facebook"></span></a>
            <a href="#"><span class="bi bi-instagram"></span></a>
            <a href="https://www.linkedin.com/in/ravinthiran-partheepan-8a5100131"><span class="bi bi-linkedin"></span></a>
          </p>
        </div>
        <div class="col-md-7 ms-auto">
          <div class="row site-section pt-0">
            <div class="col-md-4 mb-4 mb-md-0">
              <h3>Navigation</h3>
              <ul class="list-unstyled">
                <li><a href="/shop">Shop</a></li>
                <li><a href="/works">Works</a></li>
                <li><a href="/home"></a>Home</li>
                <li><a href="/contact">Contact</a></li>
              </ul>
            </div>

            <div class="col-md-4 mb-4 mb-md-0">
              <h3>Shop</h3>
              <ul class="list-unstyled">
                <li><a href="/shop">Shop</a></li>
                <li><a href="/ethapp">Ethereum Dapp</a></li>
                <li><a href="/home"></a>Home</li>
                <li><a href="/contact">Contact</a></li>
              </ul>
            </div>

            <div class="col-md-4 mb-4 mb-md-0">
              <h3>Downloads</h3>
              <ul class="list-unstyled">
                <li><a href="#">Get from the Play Store</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="row justify-content-center text-center">
        <div class="col-md-7">
          <p class="copyright">&copy; Copyright Ravinthiran Partheepan. All Rights Reserved</p>
          <div class="credits">

            Developed by <a href="/">Ravinthiran Partheepan</a>
          </div>
        </div>
      </div>

    </div>
  </footer>

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>


  <script src="/assets/vendor/aoss/aos.js"></script>
  <script src="/assets/vendor/bootstraps/js/bootstrap.bundle.min.js"></script>
  <script src="/assets/vendor/php-email-form/validate.js"></script>
  <script src="/assets/vendor/swipers/swiper-bundle.min.js"></script>


  <script src="assets/js/mains.js"></script>
  <script>
    (function($){
      $(document).on('contextmenu', 'body', function() {
          return false;
      })
    })(jQuery);
  </script>


  <script>
    var modelIsLoaded = false;


    const objectDetector = ml5.objectDetector('cocossd', {}, modelLoaded);


    function modelLoaded() {
      console.log("Model Loaded!");
      modelIsLoaded = true;
    }
  </script>
  <script>
    document.getElementById("ai").addEventListener("change", toggleAi)
document.getElementById("fps").addEventListener("input", changeFps)

const video = document.getElementById("video");
const c1 = document.getElementById('c1');
const ctx1 = c1.getContext('2d');
var cameraAvailable = false;
var aiEnabled = false;
var fps = 16;


var facingMode = "environment";
var constraints = {
    audio: false,
    video: {
        facingMode: facingMode
    }
};


camera();
function camera() {
    if (!cameraAvailable) {
        console.log("camera")
        navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {
            cameraAvailable = true;
            video.srcObject = stream;
        }).catch(function (err) {
            cameraAvailable = false;
            if (modelIsLoaded) {
                if (err.name === "NotAllowedError") {
                    document.getElementById("loadingText").innerText = "Waiting for camera permission";
                }
            }
            setTimeout(camera, 1000);
        });
    }
}

window.onload = function () {
    timerCallback();
}

function timerCallback() {
    if (isReady()) {
        setResolution();
        ctx1.drawImage(video, 0, 0, c1.width, c1.height);
        if (aiEnabled) {
            ai();
        }
    }
    setTimeout(timerCallback, fps);
}

function isReady() {
    if (modelIsLoaded && cameraAvailable) {
        document.getElementById("loadingText").style.display = "none";
        document.getElementById("ai").disabled = false;
        return true;
    } else {
        return false;
    }
}

function setResolution() {
    if (window.screen.width < video.videoWidth) {
        c1.width = window.screen.width * 0.9;
        let factor = c1.width / video.videoWidth;
        c1.height = video.videoHeight * factor;
    } else if (window.screen.height < video.videoHeight) {
        c1.height = window.screen.height * 0.50;
        let factor = c1.height / video.videoHeight;
        c1.width = video.videoWidth * factor;
    }
    else {
        c1.width = video.videoWidth;
        c1.height = video.videoHeight;
    }
};

function toggleAi() {
    aiEnabled = document.getElementById("ai").checked;
}

function changeFps() {
    fps = 1000 / document.getElementById("fps").value;
}

function ai() {

    objectDetector.detect(c1, (err, results) => {
        console.log(results);
        for (let index = 0; index < results.length; index++) {
            const element = results[index];
            ctx1.font = "15px Arial";
            ctx1.fillStyle = "white";
            ctx1.fillText(element.label + " - " + (element.confidence * 100).toFixed(2) + "%", element.x + 10, element.y + 15);
            ctx1.beginPath();
            ctx1.strokeStyle = "white";
            ctx1.rect(element.x, element.y, element.width, element.height);
            ctx1.stroke();
            console.log(element.label);
        }
    });
}
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</body>

</html>
